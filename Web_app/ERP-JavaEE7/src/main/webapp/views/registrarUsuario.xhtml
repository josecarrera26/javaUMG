
<html 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>Administrar Usuario </title>
        <link rel="stylesheet" media="screen" href="../resources/css/styleHeader.css" type="text/css" />
        <link rel="icon" href="./../resources/images/Logo.png"/>
        <link 
            href="${facesContext.externalContext.requestContextPath}/resources/css/styleFernando.css"
            rel="stylesheet" />
    </h:head>
    <style>
        body {
            background-image: url('./../resources/images/fondoApp.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
        }
    </style>
    <h:body>
        <h:form id="formRegistroUsuario">
            <p:growl id="msgReg"   />
            <p:tab  title="Registrarse">
                <center>
                    <p:panel id="pnlRegistroUsuario" class="centerPnl" >
                        <p:panelGrid id="pnlGridUsr" layout="grid" columns="2" style="width: 100%" >
                            <h:outputLabel id="lblusr" value="Username" />
                            <p:inputText id="usernameUsr" value="#{usuarioUI.username}" required="true" requiredMessage ="El campo no puede estar vacio" style="width: 100%" />     

                            <h:outputLabel id="lblpassUsr" value="ContraseÃ±a" style="width: 100%"/>
                            <p:inputText id="passwordUsr" value="#{usuarioUI.password}" required="true" requiredMessage ="El campo no puede estar vacio" style="width: 100%" />     

                            <h:outputLabel id="lblRole" value="Role" style="width: 100%"/>
                            <p:selectOneMenu id="role" class="combo" value="#{usuarioUI.role}"  dynamic="true" filter="true" filterMatchMode="startsWith" label="Seleccione uno" style="width: 100%">
                                <f:selectItem itemLabel="Select One" itemValue=""/>
                                <f:selectItems value="#{usuarioUI.todosRolesItems}"/>
                            </p:selectOneMenu>
                            <h:outputLabel id="lblEmpleado" value="Empleado" style="width: 100%"/>
                            <p:selectOneMenu id="empleado" class="combo" value="#{usuarioUI.idEmpleado}"  dynamic="true" filter="true" filterMatchMode="startsWith" label="Seleccione uno" style="width: 100%" >
                                <f:selectItem itemLabel="Select One" itemValue=""/>
                                <f:selectItems value="#{usuarioUI.empleadosItems}"/>
                            </p:selectOneMenu>
                            <h:outputLabel id="lblEstado" value="Estado" style="width: 100%"/>
                            <p:selectOneMenu id="estado" class="combo" value="#{usuarioUI.estadoEmpleado}"  dynamic="true" filter="true" filterMatchMode="startsWith" label="Seleccione uno" style="width: 100%">
                                <f:selectItem itemLabel="Select One" itemValue=""/>
                                <f:selectItem itemLabel="Activo" itemValue="Activo"/>
                                <f:selectItem itemLabel="Inactivo" itemValue="Inactivo"/>
                            </p:selectOneMenu>
                        </p:panelGrid >

                        <p:panelGrid id ="pnlGridBtn" layout="grid" columns="3">
                            <p:commandButton id="btnRegEmp" update="formRegistroUsuario,msgReg,pnlRegistroUsuario" value="Registrar" actionListener ="#{usuarioUI.registroUsuario()}"
                                             icon="pi pi-check" styleClass="rounded-button" />
                            <p:commandButton id="btnActualizarEmp" update="formRegistroUsuario,msgReg,pnlRegistroUsuario" value="Actualizar" actionListener ="#{usuarioUI.actualizarUsuario()}"
                                             icon="pi pi-check" styleClass="rounded-button" />
                        </p:panelGrid>
                    </p:panel > 
                </center>
            </p:tab>               
        </h:form>
        <h:form>
            <p:commandButton id="btnGeneraReporte" update="formRegistroUsuario,msgReg,pnlRegistroUsuario" value="Generar reporte Usuario" actionListener ="#{reporte.generarReporte}"
                             icon="pi pi-check" styleClass="rounded-button" ajax="false" />
        </h:form>
    </h:body>
</html>
